<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>GambsTickets - Cadastro Setor</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link href="css/full-slider.css" rel="stylesheet"/>
        <link href="css/bootstrap.css" rel="stylesheet"/> 
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.1/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </h:head>
    <h:body>

        <ui:include src="menuPesquisa.xhtml"></ui:include>

        <div class="container">

            <h:form>

                <h2 style="text-align: center; padding-top: 1%">Lista de Setores</h2    >
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Nome Setor</th>
                            <th>Valor (R$)</th>
                            <th>Quantidade</th>
                            <th>Excluir</th>
                        </tr>
                    </thead>
                    <tbody>

                        <h5 style="color: #FF0000; text-align: center"><h:outputText value="#{CarrinhoManagedBean.mensagem}"/></h5>

                        <ui:repeat var="setor" value="#{cadastroEventoManagedBean.setores}">
                            <tr>
                                <td><h:outputText value="#{setor.nomeSetor}"/></td>
                                <td><h:outputText value="#{setor.preco}"/></td>
                                <td><h:outputText value="#{setor.quantidade}"/></td>
                                <td>
                                    <h:commandButton value="remover" action="setoresCadastro.xhtml" class="btn btn-link" style="padding: 0px; color: tomato">
                                        <f:setPropertyActionListener target="#{cadastroEventoManagedBean.removerSetor}" value="#{setor}"/>
                                    </h:commandButton>

                                </td>
                            </tr>
                        </ui:repeat>
                    </tbody> 
                </table>
                <!-- Mensagem -->
                <h3 style="color: #FF0000; text-align: center"><h:outputText value="#{cadastroEventoManagedBean.mensagem}"/></h3>

            </h:form>
            <h:form class="form-horizontal">
                <!-- Form Name -->
                <legend style="text-align: center; padding-top: 1%">Setor</legend>

                <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="setorNome">Nome do Setor</label>  
                    <div class="col-md-5">
                        <p:inputText value="#{cadastroEventoManagedBean.setor.nomeSetor}" id="nomeSetor" maxlength="20" type="text" title="Informe o nome do setor" placeholder="Insira o nome" class="form-control input-md" required="true" requiredMessage="Nome Obrigatório"/>
                        <h:message for="nomeSetor" id="msg1" styleClass="erros" style="color: red"/>
                        <span class="help-block">Digite o nome do setor</span>  
                    </div>
                </div>

                <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="valorSetor">Valor</label>  
                    <div class="col-md-5">
                        <p:inputText value="#{cadastroEventoManagedBean.setor.preco}" id="valorSetor" type="text" maxlength="7" title="Informe o valor do setor" placeholder="Insira o valor" class="form-control input-md" required="true" requiredMessage="Valor Obrigatório"/>
                        <h:message for="valorSetor" id="msg2" styleClass="erros" style="color: red"/>
                        <span class="help-block">Digite o valor do ingresso</span>  
                    </div>
                </div>

                <!-- Text input-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="quantidadeSetor">Quantidade Máxima</label>  
                    <div class="col-md-5">
                        <p:inputText value="#{cadastroEventoManagedBean.setor.quantidade}" id="quantSetor" type="number" title="Informe a quantidade do setor" placeholder="Insira a quantidade" class="form-control input-md" required="true" requiredMessage="Quantidade Obrigatório"/>
                        <h:message for="quantSetor" id="msg3" styleClass="erros" style="color: red"/>
                        <span class="help-block">Quantidade máxima do setor</span>  
                    </div>
                </div>


                <p:commandButton class="col-lg-offset-8 btn btn-primary" 
                                 value="Cadastrar Setor" action="#{cadastroEventoManagedBean.cadastrarSetor()}" ajax="false"/>

            </h:form>
            <h:form>
                <p:commandButton class="col-lg-offset-8 btn btn-primary" 
                                 value="Concluir" action="#{cadastroEventoManagedBean.destroy()}" ajax="false"/>
            </h:form>
            <ui:include src="rodape.xhtml"></ui:include>
        </div>

    </h:body>
</html>

